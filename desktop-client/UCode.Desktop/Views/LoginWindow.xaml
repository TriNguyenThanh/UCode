<Window x:Class="UCode.Desktop.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
        xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
        Title="UCode - Đăng nhập"
        Height="700"
        Width="1200"
        WindowStartupLocation="CenterScreen"
        WindowState="Maximized"
        ResizeMode="CanResize">

    <Grid>
        <!-- Background Color matching Web #faf9f6 -->
        <Grid.Background>
            <SolidColorBrush Color="#FAF9F6"/>
        </Grid.Background>

        <!-- Content Grid -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="100"/>
            </Grid.ColumnDefinitions>

            <!-- Welcome Text (Left Side) -->
            <StackPanel Grid.Column="0"
                        VerticalAlignment="Center"
                        HorizontalAlignment="Left"
                        Margin="150,0,0,0">
                <TextBlock Text="TRƯỜNG ĐẠI HỌC GIAO THÔNG VẬN TẢI"
                           FontSize="16"
                           FontWeight="Medium"
                           Foreground="#00275E"
                           FontFamily="Be Vietnam Pro, Segoe UI"
                           TextWrapping="Wrap"
                           Margin="0,0,0,5"/>
                <TextBlock Text="PHÂN HIỆU TẠI TP. HỒ CHÍ MINH"
                           FontSize="16"
                           FontWeight="Medium"
                           Foreground="#00275E"
                           FontFamily="Be Vietnam Pro, Segoe UI"
                           Margin="0,0,0,50"/>

                <TextBlock Text="CHÀO MỪNG"
                           FontSize="56"
                           FontWeight="Bold"
                           Foreground="#00275E"
                           FontFamily="Be Vietnam Pro, Segoe UI"
                           Margin="0,0,0,10"/>
                <TextBlock Text="Rất vui được gặp lại !"
                           FontSize="24"
                           Foreground="#00275E"
                           FontFamily="Be Vietnam Pro, Segoe UI"
                           Opacity="0.7"/>
            </StackPanel>

            <!-- Login Form (Right Side) -->
            <Border Grid.Column="1"
                    Background="White"
                    CornerRadius="12"
                    Padding="40"
                    Width="450"
                    VerticalAlignment="Center"
                    Margin="0,0,0,0">
                <Border.Effect>
                    <DropShadowEffect Color="Black"
                                      BlurRadius="20"
                                      ShadowDepth="5"
                                      Opacity="0.3"/>
                </Border.Effect>

                <StackPanel>
                    <!-- Logo -->
                    <Ellipse Width="100"
                             Height="100"
                             Fill="#FACB01"
                             HorizontalAlignment="Center"
                             Margin="0,0,0,20">
                    </Ellipse>

                    <!-- Title -->
                    <TextBlock Text="ĐĂNG NHẬP"
                               FontSize="32"
                               FontWeight="Bold"
                               HorizontalAlignment="Center"
                               Foreground="#00275E"
                               FontFamily="Be Vietnam Pro, Segoe UI"
                               Margin="0,0,0,30"/>

                    <!-- Username -->
                    <TextBox mah:TextBoxHelper.Watermark="Email / Tên đăng nhập"
                             mah:TextBoxHelper.UseFloatingWatermark="True"
                             mah:TextBoxHelper.ClearTextButton="True"
                             Margin="0,0,0,20"
                             FontSize="16"
                             FontFamily="Be Vietnam Pro, Segoe UI"
                             Height="50"
                             Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}">
                        <TextBox.InputBindings>
                            <KeyBinding Key="Enter"
                                        Command="{Binding LoginCommand}"/>
                        </TextBox.InputBindings>
                    </TextBox>

                    <!-- Password -->
                    <PasswordBox x:Name="PasswordBox"
                                 mah:TextBoxHelper.Watermark="Mật khẩu"
                                 mah:TextBoxHelper.UseFloatingWatermark="True"
                                 Margin="0,0,0,20"
                                 FontSize="16"
                                 FontFamily="Be Vietnam Pro, Segoe UI"
                                 Height="50"
                                 PasswordChanged="PasswordBox_PasswordChanged">
                        <PasswordBox.InputBindings>
                            <KeyBinding Key="Enter"
                                        Command="{Binding LoginCommand}"/>
                        </PasswordBox.InputBindings>
                    </PasswordBox>

                    <!-- Remember Me -->
                    <CheckBox Content="Ghi nhớ đăng nhập"
                              IsChecked="{Binding RememberMe}"
                              FontSize="14"
                              FontFamily="Be Vietnam Pro, Segoe UI"
                              Foreground="#00275E"
                              Margin="0,0,0,20"/>

                    <!-- Error Message -->
                    <Border Background="#FFEBEE"
                            BorderBrush="#F44336"
                            BorderThickness="1"
                            CornerRadius="4"
                            Padding="12"
                            Margin="0,0,0,20"
                            Visibility="{Binding ErrorMessage, Converter={StaticResource StringToVisibilityConverter}}">
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconMaterial Kind="AlertCircle"
                                                        Foreground="#F44336"
                                                        Width="20"
                                                        Height="20"
                                                        VerticalAlignment="Center"
                                                        Margin="0,0,10,0"/>
                            <TextBlock Text="{Binding ErrorMessage}"
                                       Foreground="#C62828"
                                       TextWrapping="Wrap"
                                       VerticalAlignment="Center"/>
                        </StackPanel>
                    </Border>

                    <!-- Login Button - Vàng như Web -->
                    <Button Content="ĐĂNG NHẬP"
                            Command="{Binding LoginCommand}"
                            Height="50"
                            FontSize="16"
                            FontWeight="Bold"
                            FontFamily="Be Vietnam Pro, Segoe UI"
                            Background="#FACB01"
                            Foreground="#00275E"
                            BorderThickness="0"
                            Cursor="Hand"
                            Margin="0,0,0,20">
                        <Button.IsEnabled>
                            <MultiBinding Converter="{StaticResource BooleanAndConverter}">
                                <Binding Path="IsLoading"
                                         Converter="{StaticResource InverseBooleanConverter}"/>
                            </MultiBinding>
                        </Button.IsEnabled>
                    </Button>

                    <!-- Loading Indicator -->
                    <mah:MetroProgressBar IsIndeterminate="True"
                                          Height="4"
                                          Visibility="{Binding IsLoading, Converter={StaticResource BooleanToVisibilityConverter}}"
                                          Margin="0,0,0,20"/>

                    <!-- Demo Accounts -->
                    <Border Background="#F5F5F5"
                            BorderBrush="#E0E0E0"
                            BorderThickness="1"
                            CornerRadius="4"
                            Padding="15">
                        <StackPanel>
                            <TextBlock Text="Tài khoản demo:"
                                       FontWeight="Bold"
                                       FontSize="13"
                                       Margin="0,0,0,8"/>
                            <TextBlock FontSize="12"
                                       Foreground="#666">
                                <Run Text="Admin:"/>
                                <Run Text="admin"
                                     FontFamily="Consolas"
                                     Foreground="#1976D2"/>
                                <Run Text="/"/>
                                <Run Text="123"
                                     FontFamily="Consolas"
                                     Foreground="#1976D2"/>
                            </TextBlock>
                            <TextBlock FontSize="12"
                                       Foreground="#666"
                                       Margin="0,3,0,0">
                                <Run Text="Teacher:"/>
                                <Run Text="teacher01"
                                     FontFamily="Consolas"
                                     Foreground="#1976D2"/>
                                <Run Text="/"/>
                                <Run Text="123"
                                     FontFamily="Consolas"
                                     Foreground="#1976D2"/>
                            </TextBlock>
                            <TextBlock FontSize="12"
                                       Foreground="#666"
                                       Margin="0,3,0,0">
                                <Run Text="Student:"/>
                                <Run Text="student01"
                                     FontFamily="Consolas"
                                     Foreground="#1976D2"/>
                                <Run Text="/"/>
                                <Run Text="123"
                                     FontFamily="Consolas"
                                     Foreground="#1976D2"/>
                            </TextBlock>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Window>
