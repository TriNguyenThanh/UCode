<Window x:Class="UCode.Desktop.Views.AddStudentDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="clr-namespace:UCode.Desktop.Controls"
        Title="Thêm sinh viên vào lớp" 
        Height="700" Width="1000"
        WindowStartupLocation="CenterOwner"
        Background="#F5F5F5">

    <Grid>
        <!-- Loading Overlay -->
        <Grid Background="#80000000" 
              Visibility="{Binding IsLoading, Converter={StaticResource BooleanToVisibilityConverter}}" 
              Panel.ZIndex="1000">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <ProgressBar IsIndeterminate="True" Width="200" Height="4" Foreground="#FACB01"/>
                <TextBlock Text="Đang tải..." Foreground="White" FontSize="16" FontWeight="SemiBold" Margin="0,15,0,0" HorizontalAlignment="Center"/>
            </StackPanel>
        </Grid>

        <!-- Main Content -->
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Border Grid.Row="0" Background="White" BorderThickness="0,0,0,1" BorderBrush="#E0E0E0" Padding="20">
                <TextBlock Text="Thêm sinh viên vào lớp" FontSize="20" FontWeight="Bold" Foreground="#191970"/>
            </Border>

            <!-- Tab Control -->
            <TabControl Grid.Row="1" Margin="20" SelectedIndex="{Binding SelectedTabIndex, Mode=TwoWay}">
                <TabControl.Resources>
                    <Style TargetType="TabItem">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="TabItem">
                                    <Border Name="Border" BorderThickness="0,0,0,3" BorderBrush="Transparent" Padding="20,10">
                                        <ContentPresenter ContentSource="Header" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter TargetName="Border" Property="BorderBrush" Value="#FACB01"/>
                                        </Trigger>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="Border" Property="Background" Value="#F5F5F5"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </TabControl.Resources>

                <!-- Tab 1: Visual Select -->
                <TabItem>
                    <TabItem.Header>
                        <TextBlock Text="CHỌN TỪ DANH SÁCH" FontWeight="SemiBold" FontSize="13" Foreground="#FACB01"/>
                    </TabItem.Header>
                    <controls:VisualSelectTabControl DataContext="{Binding VisualSelectTab}"/>
                </TabItem>

                <!-- Tab 2: Import Excel -->
                <TabItem>
                    <TabItem.Header>
                        <TextBlock Text="IMPORT EXCEL" FontWeight="SemiBold" FontSize="13"/>
                    </TabItem.Header>
                    <controls:ImportExcelTabControl DataContext="{Binding ImportExcelTab}"/>
                </TabItem>
            </TabControl>

            <!-- Footer -->
            <Border Grid.Row="2" Background="White" BorderThickness="0,1,0,0" BorderBrush="#E0E0E0" Padding="20">
                <Button Content="ĐÓNG" 
                        Style="{StaticResource SecondaryButtonStyle}"
                        Click="Close_Click"
                        Width="120"
                        HorizontalAlignment="Right"/>
            </Border>
        </Grid>
    </Grid>
</Window>

